<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°: ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á ‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î..‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å </title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
        /* --- 1. Styles & Variables --- */
        :root {
            --primary: #2E7D32;
            --secondary: #81C784;
            --accent: #FFB74D;
            --bg: #F1F8E9;
            --card-bg: #ffffff;
            --text: #37474F;
            --blue-btn: #2196F3;
            --example-bg: #FFF8E1;
            --pain-bg: #FFEBEE;
            --gain-bg: #E3F2FD;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0; padding: 20px;
            display: flex; justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%; max-width: 900px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden; position: relative;
            display: flex; flex-direction: column;
        }

        /* Header */
        .header { background-color: var(--primary); color: white; padding: 20px; text-align: center; }
        .header h1 { margin: 0; font-size: 24px; }
        .progress-bar { display: flex; background: #ddd; height: 10px; }
        .progress-fill { background: var(--accent); width: 25%; transition: width 0.3s ease; }

        /* Content */
        .step-content { padding: 30px; flex-grow: 1; display: none; animation: fadeIn 0.5s; }
        .step-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2 { color: var(--primary); border-bottom: 2px solid var(--secondary); padding-bottom: 10px; margin-top: 0; display: flex; justify-content: space-between; align-items: center; }
        
        /* Inputs */
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #555; }
        input, textarea, select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-family: 'Sarabun'; font-size: 14px; box-sizing: border-box; resize: vertical; }
        input:focus, textarea:focus, select:focus { outline: 2px solid var(--secondary); border-color: transparent; }

        /* Custom Grids */
        .empathy-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .quadrant { background: #FAFAFA; border: 1px dashed #ccc; padding: 15px; border-radius: 8px; }
        .quadrant h3 { margin: 0 0 10px 0; font-size: 14px; color: var(--primary); }

        .analysis-section { padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #eee; }
        .pain-box { background-color: var(--pain-bg); border-color: #FFCDD2; }
        .gain-box { background-color: var(--gain-bg); border-color: #BBDEFB; }
        .analysis-header { display: flex; align-items: center; margin-bottom: 10px; font-weight: bold; font-size: 18px; }

        /* Example System */
        .btn-toggle-example { background: none; border: 1px solid var(--accent); color: var(--accent); padding: 5px 15px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s; }
        .btn-toggle-example:hover { background: var(--accent); color: white; }
        
        .example-box { display: none; background-color: var(--example-bg); border: 1px dashed #FFECB3; border-radius: 8px; padding: 15px; margin-bottom: 20px; font-size: 14px; color: #5D4037; }
        
        .btn-copy-ex {
            background-color: #FF9800; color: white; border: none; padding: 8px 15px; 
            border-radius: 5px; cursor: pointer; font-size: 13px; margin-top: 10px; font-weight: bold;
            display: flex; align-items: center; gap: 5px;
        }
        .btn-copy-ex:hover { background-color: #F57C00; }

        /* Navigation */
        .footer-nav { padding: 20px; border-top: 1px solid #eee; display: flex; justify-content: space-between; background: white; flex-wrap: wrap; gap: 10px; }
        .btn { padding: 10px 25px; border: none; border-radius: 30px; font-weight: bold; cursor: pointer; font-family: 'Sarabun'; transition: all 0.2s; }
        .btn-back { background: #ddd; color: #333; }
        .btn-next { background: var(--primary); color: white; }
        .btn-print { background: var(--accent); color: white; }
        .btn-img { background: var(--blue-btn); color: white; }
        .btn:hover { transform: scale(1.05); opacity: 0.9; }

        /* --- 4. A4 Fixed Layout (Hidden until print) --- */
        #print-area-wrapper {
            display: none; justify-content: center;
            background: #525659; padding: 20px; margin-top: 20px; overflow-x: auto;
        }
        .a4-page {
            width: 210mm; min-height: 297mm; background: white; padding: 20mm;
            box-shadow: 0 0 15px rgba(0,0,0,0.2); box-sizing: border-box; color: black; position: relative;
        }
        .a4-grid-2col { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px; }
        .a4-grid-3col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 5px; margin-top: 5px; }
        .a4-grid-4col { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 5px; margin-top: 5px; }
        .a4-card { border: 1px solid #ccc; padding: 10px; border-radius: 5px; font-size: 12px; word-wrap: break-word; }
        .a4-header { border-bottom: 2px solid var(--primary); margin-bottom: 15px; padding-bottom: 10px; }
        .a4-label { font-weight: bold; color: var(--primary); font-size: 12px; display: block; margin-bottom: 3px; }
        
        @media (max-width: 600px) { .empathy-grid { grid-template-columns: 1fr; } }
        @media print {
            body { background: white; padding: 0; display: block; }
            .container, .header, .footer-nav { display: none !important; }
            #print-area-wrapper { display: block !important; padding: 0; margin: 0; background: white; }
            .a4-page { width: 100%; min-height: auto; box-shadow: none; margin: 0; padding: 0; }
            @page { size: A4; margin: 1.5cm; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>üå± ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á ‡∏ô‡∏±‡∏Å‡∏Ñ‡∏¥‡∏î..‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å </h1>
        <p>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</p>
    </div>
    <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
    </div>

    <div class="step-content active" id="step-1">
        <h2>
            1. Empathy & Analysis 
            <button class="btn-toggle-example" onclick="toggleExample('ex-1', this)">üí° ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
        </h2>
        
        <div class="example-box" id="ex-1">
            <h4>üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏õ‡πâ‡∏≤‡πÅ‡∏î‡∏á ‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î</h4>
            <ul>
                <li><strong>Persona:</strong> ‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î ‡∏≠‡∏≤‡∏¢‡∏∏ 50 ‡∏õ‡∏µ</li>
                <li><strong>Pain:</strong> ‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏¢‡∏≤‡∏Å ‡∏ó‡πà‡∏≠‡∏ï‡∏±‡∏ô ‡πÄ‡∏´‡∏°‡πá‡∏ô</li>
                <li><strong>Need:</strong> ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏û‡∏Å‡∏û‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡πÑ‡∏î‡πâ</li>
            </ul>
            <button class="btn-copy-ex" onclick="fillExample(1)">üìù ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏õ‡πÉ‡∏™‡πà (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡∏ö‡πÑ‡∏î‡πâ)</button>
        </div>

        <div class="form-group">
            <label>üë§ ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (Persona):</label>
            <textarea id="inp-persona" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏õ‡πâ‡∏≤‡πÅ‡∏î‡∏á ‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î ‡∏≠‡∏≤‡∏¢‡∏∏ 50 ‡∏õ‡∏µ ‡∏Ç‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 16.00-22.00 ‡∏ô."></textarea>
        </div>

        <div class="empathy-grid">
            <div class="quadrant">
                <h3>üëÄ SEE (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô)</h3>
                <textarea id="inp-see" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏£‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏î‡∏≥‡πÜ ‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô, ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡∏ô..."></textarea>
            </div>
            <div class="quadrant">
                <h3>üëÇ HEAR (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô)</h3>
                <textarea id="inp-hear" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏õ‡πâ‡∏≤‡∏ö‡πà‡∏ô‡∏ß‡πà‡∏≤ '‡πÄ‡∏ó‡∏®‡∏Å‡∏¥‡∏à‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏µ‡∏Å‡πÅ‡∏•‡πâ‡∏ß', ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡πà‡∏ô '‡πÄ‡∏´‡∏°‡πá‡∏ô‡∏à‡∏±‡∏á'..."></textarea>
            </div>
            <div class="quadrant">
                <h3>‚úã DO (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡∏ó‡∏≥)</h3>
                <textarea id="inp-do" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÅ‡∏≠‡∏ö‡πÄ‡∏ó‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏•‡∏á‡∏ó‡πà‡∏≠‡∏ï‡∏≠‡∏ô‡∏î‡∏∂‡∏Å, ‡πÄ‡∏≠‡∏≤‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏°‡∏≤‡∏£‡∏≠‡∏á..."></textarea>
            </div>
            <div class="quadrant">
                <h3>üó£Ô∏è SAY (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡∏û‡∏π‡∏î)</h3>
                <textarea id="inp-say" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: '‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏´‡∏ô ‡∏°‡∏±‡∏ô‡∏´‡∏ô‡∏±‡∏Å', '‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡∏°‡∏±‡∏ô‡πÅ‡∏û‡∏á'"></textarea>
            </div>
        </div>

        <div class="analysis-section pain-box">
            <div class="analysis-header"><span>‚ö°</span> Pain Point Analysis</div>
            <div class="form-group">
                <label>‚ö° ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å (Problem):</label>
                <textarea id="inp-pain-problem" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏ö‡∏ô‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏¢‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡∏Å‡∏õ‡∏£‡∏Å"></textarea>
            </div>
            <div class="form-group">
                <label>üî• ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö (Impact):</label>
                <textarea id="inp-pain-impact" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏î‡∏ô‡∏õ‡∏£‡∏±‡∏ö, ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏´‡∏≤‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏•‡∏¥‡πà‡∏ô, ‡∏ó‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡∏ô"></textarea>
            </div>
            <div class="form-group">
                <label>üîé ‡∏£‡∏≤‡∏Å‡πÄ‡∏´‡∏á‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Root Cause):</label>
                <textarea id="inp-pain-root" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà '‡∏û‡∏Å‡∏û‡∏≤‡πÑ‡∏î‡πâ' ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô"></textarea>
            </div>
        </div>

        <div class="analysis-section gain-box">
            <div class="analysis-header"><span>üíé</span> Gain Analysis</div>
            <div class="form-group">
                <label>üíé ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (Need/Gain):</label>
                <textarea id="inp-gain-need" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏≤ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å"></textarea>
            </div>
            <div class="form-group">
                <label>‚≠ê ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</label>
                <select id="inp-gain-level">
                    <option>üî¥ ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ (Must Have)</option>
                    <option>üü° ‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏°‡∏µ (Should Have)</option>
                    <option>üü¢ ‡∏°‡∏µ‡∏Å‡πá‡∏î‡∏µ (Nice to Have)</option>
                </select>
            </div>
            <div class="form-group">
                <label>üåà ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö (Benefit):</label>
                <textarea id="inp-gain-benefit" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô, ‡∏Ç‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏á‡∏¥‡∏ô, ‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö"></textarea>
            </div>
        </div>
    </div>

    <div class="step-content" id="step-2">
        <h2>
            2. Nature Decoder 
            <button class="btn-toggle-example" onclick="toggleExample('ex-2', this)">üí° ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
        </h2>
        <div class="example-box" id="ex-2">
            <h4>üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏£‡∏≤‡∏Å‡πÇ‡∏Å‡∏á‡∏Å‡∏≤‡∏á</h4>
            <p>‡∏û‡∏∑‡∏ä‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏Å‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏∞‡∏•‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ô‡πâ‡∏≥</p>
            <button class="btn-copy-ex" onclick="fillExample(2)">üìù ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏õ‡πÉ‡∏™‡πà (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡∏ö‡πÑ‡∏î‡πâ)</button>
        </div>
        
        <div class="form-group">
            <label>üåø ‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥:</label>
            <input type="text" id="inp-plant" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏ï‡πâ‡∏ô‡πÇ‡∏Å‡∏á‡∏Å‡∏≤‡∏á (Mangrove)">
        </div>
        <div class="form-group">
            <label>ü¶¥ Morphology (‡∏£‡∏π‡∏õ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå):</label>
            <textarea id="inp-m" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏£‡∏≤‡∏Å‡πÅ‡∏Ç‡∏ô‡∏á‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏´‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô"></textarea>
        </div>
        <div class="form-group">
            <label>üß™ Property (‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥):</label>
            <textarea id="inp-p" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏°‡∏µ‡∏£‡∏π‡∏û‡∏£‡∏∏‡∏ô ‡∏ú‡∏¥‡∏ß‡∏Ç‡∏£‡∏∏‡∏Ç‡∏£‡∏∞ ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ"></textarea>
        </div>
        <div class="form-group">
            <label>‚öôÔ∏è Behavior (‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°):</label>
            <textarea id="inp-b" rows="2" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏ä‡∏∞‡∏•‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡∏î‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏Å‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô"></textarea>
        </div>
    </div>

    <div class="step-content" id="step-3">
        <h2>
            3. Innovation Synthesis 
            <button class="btn-toggle-example" onclick="toggleExample('ex-3', this)">üí° ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
        </h2>
        <div class="example-box" id="ex-3">
            <h4>üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Grease Fighter</h4>
            <p>‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ú‡πà‡∏ô‡∏Å‡∏£‡∏≠‡∏á‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏£‡∏≤‡∏Å‡πÇ‡∏Å‡∏á‡∏Å‡∏≤‡∏á</p>
            <button class="btn-copy-ex" onclick="fillExample(3)">üìù ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏õ‡πÉ‡∏™‡πà (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡∏ö‡πÑ‡∏î‡πâ)</button>
        </div>

        <div class="form-group">
            <label>üí° ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°:</label>
            <input type="text" id="inp-idea-name" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Grease Fighter (‡∏ô‡∏±‡∏Å‡∏™‡∏π‡πâ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô)">
        </div>
        <div class="form-group">
            <label>üìù ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ã‡∏õ‡∏ï‡πå (Concept):</label>
            <textarea id="inp-concept" rows="4" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö '‡∏£‡∏≤‡∏Å‡πÇ‡∏Å‡∏á‡∏Å‡∏≤‡∏á' ‡∏°‡∏≤‡∏ó‡∏≥‡πÅ‡∏ú‡πà‡∏ô‡∏Å‡∏£‡∏≠‡∏á‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πâ‡∏ô ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ï‡πâ‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡πà‡∏≠ ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏õ‡πâ‡∏≤‡πÅ‡∏î‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ"></textarea>
        </div>
        <div class="form-group">
            <label>üé® ‡∏†‡∏≤‡∏û‡∏£‡πà‡∏≤‡∏á (Sketch):</label>
            <input type="file" id="inp-sketch" accept="image/*" onchange="previewImage()" style="margin-bottom:10px;">
            <div style="border: 2px dashed #ccc; height: 200px; display:flex; align-items:center; justify-content:center; overflow:hidden; position:relative; background:#fafafa;">
                <span id="sketch-placeholder" style="color:#aaa;">(‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏£‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏î‡πÄ‡∏≠‡∏á)</span>
                <img id="sketch-preview" src="" style="display:none; max-width:100%; max-height:100%; object-fit:contain;">
            </div>
        </div>
    </div>

    <div class="step-content" id="step-4">
        <div style="text-align:center; margin-bottom:20px;">
            <span style="font-size:40px;">üèÜ</span>
            <h2>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
            <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>
        </div>

        <div id="print-area-wrapper">
            <div id="a4-target" class="a4-page">
                <div class="a4-header">
                    <h1 style="margin:0; color:#2E7D32; font-size:22px;">‡πÉ‡∏ö‡∏á‡∏≤‡∏ô: Eco-Innovation Analysis</h1>
                    <div style="font-size:14px;"><strong>‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥:</strong> <span id="out-name">_________________</span></div>
                </div>

                <div style="background:#f9f9f9; padding:5px 10px; margin-bottom:10px;">
                    <strong style="color:#333;">1. ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (Persona & Observation)</strong>
                </div>
                <div style="margin-bottom:10px;">
                    <span class="a4-label">‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:</span>
                    <span id="out-persona" class="a4-value">-</span>
                </div>
                <div class="a4-grid-4col">
                    <div class="a4-card"><b>SEE:</b><br><span id="out-see">-</span></div>
                    <div class="a4-card"><b>HEAR:</b><br><span id="out-hear">-</span></div>
                    <div class="a4-card"><b>DO:</b><br><span id="out-do">-</span></div>
                    <div class="a4-card"><b>SAY:</b><br><span id="out-say">-</span></div>
                </div>
                <div class="a4-grid-2col">
                    <div class="a4-card" style="background: #FFEBEE; border-color: #FFCDD2;">
                        <strong style="color:#C62828;">‚ö° Pain Point</strong>
                        <div style="margin-top:5px;"><span class="a4-label">‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</span><span id="out-pain-problem">-</span></div>
                        <div style="margin-top:3px;"><span class="a4-label">‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:</span><span id="out-pain-impact">-</span></div>
                        <div style="margin-top:3px;"><span class="a4-label">‡∏£‡∏≤‡∏Å‡πÄ‡∏´‡∏á‡πâ‡∏≤:</span><span id="out-pain-root">-</span></div>
                    </div>
                    <div class="a4-card" style="background: #E3F2FD; border-color: #BBDEFB;">
                        <strong style="color:#1565C0;">üíé Gain</strong>
                        <div style="margin-top:5px;"><span class="a4-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:</span><span id="out-gain-need">-</span></div>
                        <div style="margin-top:3px;"><span class="a4-label">‡∏£‡∏∞‡∏î‡∏±‡∏ö:</span><span id="out-gain-level">-</span></div>
                        <div style="margin-top:3px;"><span class="a4-label">‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:</span><span id="out-gain-benefit">-</span></div>
                    </div>
                </div>

                <div style="background:#f9f9f9; padding:5px 10px; margin-top:15px; margin-bottom:10px;">
                    <strong style="color:#333;">2. ‡∏ñ‡∏≠‡∏î‡∏£‡∏´‡∏±‡∏™‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ (Nature Decoder)</strong>
                </div>
                <div><span class="a4-label">‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö:</span> <span id="out-plant" style="font-weight:bold;">-</span></div>
                <div class="a4-grid-3col">
                    <div class="a4-card"><b>Morphology:</b><br><span id="out-m">-</span></div>
                    <div class="a4-card"><b>Property:</b><br><span id="out-p">-</span></div>
                    <div class="a4-card"><b>Behavior:</b><br><span id="out-b">-</span></div>
                </div>

                <div style="background:#f9f9f9; padding:5px 10px; margin-top:15px; margin-bottom:10px;">
                    <strong style="color:#333;">3. ‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏° (Innovation)</strong>
                </div>
                <div style="border:1px solid #C5E1A5; padding:10px; border-radius:5px;">
                    <span class="a4-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°:</span>
                    <span id="out-idea-name" style="font-size:16px; font-weight:bold; color:#2E7D32;">-</span>
                    <div style="margin-top:8px; border-top:1px solid #eee; padding-top:5px;">
                        <span class="a4-label">Concept:</span>
                        <div id="out-concept" class="a4-value">-</div>
                    </div>
                    <div style="margin-top:10px; border:1px dashed #ccc; height: 200px; display:flex; align-items:center; justify-content:center;">
                         <img id="out-sketch-img" src="" style="display:none; max-width:100%; max-height:100%; object-fit:contain;">
                         <span id="out-sketch-text" style="color:#ccc; font-size:12px;">(‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-nav">
        <button class="btn btn-back" id="btn-back" onclick="prevStep()" disabled>‚¨Ö ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
        <div id="page-indicator" style="align-self:center; font-weight:bold; color:#aaa;">1 / 4</div>
        <button class="btn btn-next" id="btn-next" onclick="nextStep()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°</button>
        <div id="final-buttons" style="display:none; gap:10px;">
            <button class="btn btn-print" onclick="window.print()">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå PDF</button>
            <button class="btn btn-img" onclick="saveAsImage()">üì∏ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û</button>
        </div>
    </div>
</div>

<script>
    let currentStep = 1;
    const totalSteps = 4;

    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (Editable Example Data)
    const examples = {
        1: {
            'persona': '‡∏õ‡πâ‡∏≤‡πÅ‡∏î‡∏á ‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î ‡∏≠‡∏≤‡∏¢‡∏∏ 50 ‡∏õ‡∏µ ‡∏Ç‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 16.00-22.00 ‡∏ô. ‡∏¢‡πà‡∏≤‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡πÅ‡∏≠‡∏≠‡∏±‡∏î',
            'see': '‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏£‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏î‡∏≥‡πÜ ‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô, ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡∏ô, ‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡∏π‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡∏•‡∏á‡∏™‡∏≤‡∏ö‡∏°‡∏≤‡∏£‡∏∏‡∏°',
            'hear': '‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏õ‡πâ‡∏≤‡∏ö‡πà‡∏ô‡∏ß‡πà‡∏≤ "‡πÄ‡∏ó‡∏®‡∏Å‡∏¥‡∏à‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏µ‡∏Å‡πÅ‡∏•‡πâ‡∏ß", ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ö‡πà‡∏ô "‡πÄ‡∏´‡∏°‡πá‡∏ô‡∏à‡∏±‡∏á", ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏ö‡πà‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡πà‡∏≠‡∏ï‡∏±‡∏ô',
            'do': '‡πÅ‡∏≠‡∏ö‡πÄ‡∏ó‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏•‡∏á‡∏ó‡πà‡∏≠‡∏ï‡∏≠‡∏ô‡∏î‡∏∂‡∏Å, ‡πÄ‡∏≠‡∏≤‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏°‡∏≤‡∏£‡∏≠‡∏á‡πÉ‡∏ï‡πâ‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô, ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏ä‡πá‡∏î',
            'say': '"‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏´‡∏ô ‡∏°‡∏±‡∏ô‡∏´‡∏ô‡∏±‡∏Å", "‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡∏°‡∏±‡∏ô‡πÅ‡∏û‡∏á ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß", "‡∏≠‡∏¢‡∏≤‡∏Å‡∏Ç‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà"',
            'pain-problem': '‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏ö‡∏ô‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏¢‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡∏Å‡∏õ‡∏£‡∏Å',
            'pain-impact': '‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏î‡∏ô‡∏õ‡∏£‡∏±‡∏ö, ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏´‡∏≤‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏•‡∏¥‡πà‡∏ô, ‡∏ó‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ï‡∏±‡∏ô‡∏™‡πà‡∏á‡∏ú‡∏•‡πÄ‡∏™‡∏µ‡∏¢‡∏ï‡πà‡∏≠‡∏ä‡∏∏‡∏°‡∏ä‡∏ô',
            'pain-root': '‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ñ‡∏±‡∏á‡∏î‡∏±‡∏Å‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà "‡∏û‡∏Å‡∏û‡∏≤‡πÑ‡∏î‡πâ" ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î',
            'gain-need': '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏≤ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å',
            'gain-level': 'üî¥ ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ (Must Have)',
            'gain-benefit': '‡πÄ‡∏Å‡πá‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô, ‡∏Ç‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏á‡∏¥‡∏ô, ‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö, ‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡∏∂‡πâ‡∏ô'
        },
        2: {
            'plant': '‡∏ï‡πâ‡∏ô‡πÇ‡∏Å‡∏á‡∏Å‡∏≤‡∏á (Mangrove)',
            'm': '‡∏£‡∏≤‡∏Å‡πÅ‡∏Ç‡∏ô‡∏á‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏´‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô',
            'p': '‡∏°‡∏µ‡∏£‡∏π‡∏û‡∏£‡∏∏‡∏ô ‡∏ú‡∏¥‡∏ß‡∏Ç‡∏£‡∏∏‡∏Ç‡∏£‡∏∞ ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏ó‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡πá‡∏°',
            'b': '‡∏ä‡∏∞‡∏•‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡∏î‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏Å‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏•'
        },
        3: {
            'idea-name': 'Grease Fighter (‡∏ô‡∏±‡∏Å‡∏™‡∏π‡πâ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô)',
            'concept': '‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö "‡∏£‡∏≤‡∏Å‡πÇ‡∏Å‡∏á‡∏Å‡∏≤‡∏á" ‡∏°‡∏≤‡∏ó‡∏≥‡πÅ‡∏ú‡πà‡∏ô‡∏Å‡∏£‡∏≠‡∏á‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πâ‡∏ô ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ï‡πâ‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡πà‡∏≠ ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏õ‡πâ‡∏≤‡πÅ‡∏î‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ'
        }
    };

    function fillExample(step) {
        const data = examples[step];
        if (!data) return;
        
        for (const [key, value] of Object.entries(data)) {
            const input = document.getElementById(`inp-${key}`);
            if (input) input.value = value;
        }
        alert("üìù ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö");
    }

    function toggleExample(id, btn) {
        const box = document.getElementById(id);
        const isHidden = box.style.display === "none" || box.style.display === "";
        box.style.display = isHidden ? "block" : "none";
        btn.innerHTML = isHidden ? "üôà ‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á" : "üí° ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á";
        btn.style.background = isHidden ? "var(--accent)" : "none";
        btn.style.color = isHidden ? "white" : "var(--accent)";
    }

    function previewImage() {
        const file = document.getElementById('inp-sketch').files[0];
        const preview = document.getElementById('sketch-preview');
        const placeholder = document.getElementById('sketch-placeholder');
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
                placeholder.style.display = 'none';
            }
            reader.readAsDataURL(file);
        }
    }

    function showStep(step) {
        document.querySelectorAll('.step-content').forEach(el => el.classList.remove('active'));
        document.getElementById(`step-${step}`).classList.add('active');
        
        const percentage = (step / totalSteps) * 100;
        document.getElementById('progress').style.width = `${percentage}%`;
        document.getElementById('btn-back').disabled = (step === 1);
        
        const nextBtn = document.getElementById('btn-next');
        const finalBtns = document.getElementById('final-buttons');
        const printWrapper = document.getElementById('print-area-wrapper');

        if (step === totalSteps) {
            nextBtn.style.display = 'none';
            finalBtns.style.display = 'flex';
            printWrapper.style.display = 'flex'; // Show A4
            generateOutput();
        } else {
            nextBtn.style.display = 'block';
            nextBtn.innerText = (step === totalSteps - 1) ? '‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏á‡∏≤‡∏ô üèÅ' : '‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°';
            finalBtns.style.display = 'none';
            printWrapper.style.display = 'none';
        }
        document.getElementById('page-indicator').innerText = `${step} / ${totalSteps}`;
    }

    function nextStep() { if (currentStep < totalSteps) { currentStep++; showStep(currentStep); } }
    function prevStep() { if (currentStep > 1) { currentStep--; showStep(currentStep); } }

    function generateOutput() {
        const ids = ['persona', 'see', 'hear', 'do', 'say', 'pain-problem', 'pain-impact', 'pain-root', 'gain-need', 'gain-level', 'gain-benefit', 'plant', 'm', 'p', 'b', 'idea-name', 'concept'];
        ids.forEach(id => {
            const el = document.getElementById(`out-${id}`);
            const val = document.getElementById(`inp-${id}`).value;
            if(el) el.innerText = val || '-';
        });

        const sketchSrc = document.getElementById('sketch-preview').src;
        const outSketchImg = document.getElementById('out-sketch-img');
        const outSketchText = document.getElementById('out-sketch-text');
        if (sketchSrc && document.getElementById('inp-sketch').files.length > 0) {
            outSketchImg.src = sketchSrc; outSketchImg.style.display = 'block'; outSketchText.style.display = 'none';
        } else {
            outSketchImg.style.display = 'none'; outSketchText.style.display = 'block';
        }

        const nameSpan = document.getElementById('out-name');
        if(nameSpan.innerText === '_________________') {
             const studentName = prompt("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡πÉ‡∏ö‡∏á‡∏≤‡∏ô:", "");
             if(studentName) nameSpan.innerText = studentName;
        }
    }

    function saveAsImage() {
        const element = document.getElementById('a4-target');
        html2canvas(element, {
            scale: 2, backgroundColor: "#ffffff", useCORS: true, windowWidth: 1200,
            onclone: (clonedDoc) => { clonedDoc.getElementById('a4-target').style.margin = "0 auto"; }
        }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'Eco-Innovation-Worksheet.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        });
    }
</script>

</body>
</html>